<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /readme.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# <img src="/src/icon.png" height="30px"> ApprovalTests.Net.Json

[![Build status](https://ci.appveyor.com/api/projects/status/tsx7biy2rgwtd3wn/branch/master?svg=true)](https://ci.appveyor.com/project/SimonCropp/ApprovalTests.Net.Json)
[![NuGet Status](https://img.shields.io/nuget/v/ApprovalTests.Net.Json.svg?cacheSeconds=86400)](https://www.nuget.org/packages/ApprovalTests.Net.Json/)

Extends [ApprovalTests](https://github.com/approvals/ApprovalTests.Net) to allow simple approval of complex models using [Json.net](https://www.newtonsoft.com/json).

<!-- toc -->
## Contents

  * [NuGet package](#nuget-package)
  * [Usage](#usage)
    * [Validating multiple instances](#validating-multiple-instances)
  * [Serializer settings](#serializer-settings)
    * [Default settings](#default-settings)
    * [Single quotes used](#single-quotes-used)
    * [QuoteName is false](#quotename-is-false)
    * [Empty collections are ignored](#empty-collections-are-ignored)
    * [Guids are scrubbed](#guids-are-scrubbed)
    * [Dates are scrubbed](#dates-are-scrubbed)
    * [Default Booleans are ignored](#default-booleans-are-ignored)
    * [Change defaults at the verification level](#change-defaults-at-the-verification-level)
    * [Changing settings globally](#changing-settings-globally)
    * [Scoped settings](#scoped-settings)
    * [Ignoring a type](#ignoring-a-type)
    * [Ignoring a instance](#ignoring-a-instance)
    * [Ignore member by expressions](#ignore-member-by-expressions)
    * [Ignore member by name](#ignore-member-by-name)
    * [Members that throw](#members-that-throw)
    * [Scrubber](#scrubber)
  * [Named Tuples](#named-tuples)<!-- endtoc -->


## NuGet package

https://nuget.org/packages/ApprovalTests.Net.Json/


## Usage

Assuming you have previously verified and approved using this.

<!-- snippet: before -->
<a id='snippet-before'/></a>
```cs
var person = new Person
{
    GivenNames = "John",
    FamilyName = "Smith",
    Spouse = "Jill",
    Address = new Address
    {
        Street = "1 Puddle Lane",
        Country = "USA"
    }
};

ObjectApprover.Verify(person);
```
<sup><a href='/src/Tests/Samples.cs#L67-L83' title='File snippet `before` was extracted from'>snippet source</a> | <a href='#snippet-before' title='Navigate to start of snippet `before`'>anchor</a></sup>
<!-- endsnippet -->

Then you attempt to verify this 

<!-- snippet: after -->
<a id='snippet-after'/></a>
```cs
var person = new Person
{
    GivenNames = "John",
    FamilyName = "Smith",
    Spouse = "Jill",
    Address = new Address
    {
        Street = "1 Puddle Lane",
        Suburb = "Gotham",
        Country = "USA"
    }
};

ObjectApprover.Verify(person);
```
<sup><a href='/src/Tests/Samples.cs#L128-L145' title='File snippet `after` was extracted from'>snippet source</a> | <a href='#snippet-after' title='Navigate to start of snippet `after`'>anchor</a></sup>
<!-- endsnippet -->

The serialized json version of these will then be compared and you will be displayed the differences in the diff tool you have asked ApprovalTests to use. For example:

![SampleDiff](/src/SampleDiff.png)

Note that the output is technically not valid json. [Single quotes are used](#single-quotes-used) and [names are not quoted](#quotename-is-false). The reason for this is to make the resulting output easier to read and understand.


### Validating multiple instances

When validating multiple instances, an [anonymous type](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/anonymous-types) can be used for verification

<!-- snippet: anon -->
<a id='snippet-anon'/></a>
```cs
var person1 = new Person
{
    GivenNames = "John",
    FamilyName = "Smith"
};
var person2 = new Person
{
    GivenNames = "Marianne",
    FamilyName = "Aguirre"
};

ObjectApprover.Verify(
    new
    {
        person1,
        person2
    });
```
<sup><a href='/src/Tests/Samples.cs#L89-L109' title='File snippet `anon` was extracted from'>snippet source</a> | <a href='#snippet-anon' title='Navigate to start of snippet `anon`'>anchor</a></sup>
<!-- endsnippet -->

Results in the following:

<!-- snippet: Samples.Anon.approved.txt -->
<a id='snippet-Samples.Anon.approved.txt'/></a>
```txt
{
  person1: {
    GivenNames: 'John',
    FamilyName: 'Smith'
  },
  person2: {
    GivenNames: 'Marianne',
    FamilyName: 'Aguirre'
  }
}
```
<sup><a href='/src/Tests/Samples.Anon.approved.txt#L1-L10' title='File snippet `Samples.Anon.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-Samples.Anon.approved.txt' title='Navigate to start of snippet `Samples.Anon.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


## Serializer settings

`SerializerBuilder` is used to build the Json.net `JsonSerializerSettings`. This is done for every verification run by calling `SerializerBuilder.BuildSettings()`.

All modifications of `SerializerBuilder` behavior is global for all verifications and should be done once at assembly load time.


### Default settings

The default serialization settings are:

<!-- snippet: defaultSerialization -->
<a id='snippet-defaultserialization'/></a>
```cs
var settings = new JsonSerializerSettings
{
    Formatting = Formatting.Indented,
    ReferenceLoopHandling = ReferenceLoopHandling.Ignore,
    DefaultValueHandling = DefaultValueHandling.Ignore
};
```
<sup><a href='/src/ApprovalTests.Net.Json/Helpers/SerializerBuilder.cs#L145-L154' title='File snippet `defaultserialization` was extracted from'>snippet source</a> | <a href='#snippet-defaultserialization' title='Navigate to start of snippet `defaultserialization`'>anchor</a></sup>
<!-- endsnippet -->


### Single quotes used

[JsonTextWriter.QuoteChar](https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonTextWriter_QuoteChar.htm) is set to single quotes `'`. The reason for this is that it makes approval files cleaner and easier to read and visualize/understand differences


### QuoteName is false

[JsonTextWriter.QuoteName](https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_JsonTextWriter_QuoteName.htm) is set to false. The reason for this is that it makes approval files cleaner and easier to read and visualize/understand differences


### Empty collections are ignored

By default empty collections are ignored during verification.

To disable this behavior use:

```cs
SerializerBuilder.IgnoreEmptyCollections = false;
```


### Guids are scrubbed

By default guids are sanitized during verification. This is done by finding each guid and taking a counter based that that specific guid. That counter is then used replace the guid values. This allows for repeatable tests when guid values are changing.

<!-- snippet: guid -->
<a id='snippet-guid'/></a>
```cs
var guid = Guid.NewGuid();
var target = new GuidTarget
{
    Guid = guid,
    GuidNullable = guid,
    GuidString = guid.ToString(),
    OtherGuid = Guid.NewGuid(),
};

ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L24-L37' title='File snippet `guid` was extracted from'>snippet source</a> | <a href='#snippet-guid' title='Navigate to start of snippet `guid`'>anchor</a></sup>
<!-- endsnippet -->

Results in the following:

<!-- snippet: ObjectApproverTests.ShouldReUseGuid.approved.txt -->
<a id='snippet-ObjectApproverTests.ShouldReUseGuid.approved.txt'/></a>
```txt
{
  Guid: Guid_1,
  GuidNullable: Guid_1,
  GuidString: Guid_1,
  OtherGuid: Guid_2
}
```
<sup><a href='/src/Tests/ObjectApproverTests.ShouldReUseGuid.approved.txt#L1-L6' title='File snippet `ObjectApproverTests.ShouldReUseGuid.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.ShouldReUseGuid.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.ShouldReUseGuid.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->

To disable this behavior use:

```cs
SerializerBuilder.ScrubGuids = false;
```


### Dates are scrubbed

By default dates (`DateTime` and `DateTimeOffset`) are sanitized during verification. This is done by finding each date and taking a counter based that that specific date. That counter is then used replace the date values. This allows for repeatable tests when date values are changing.

<!-- snippet: Date -->
<a id='snippet-date'/></a>
```cs
var dateTime = DateTime.Now;
var dateTimeOffset = DateTimeOffset.Now;
var target = new DateTimeTarget
{
    DateTime = dateTime,
    DateTimeNullable = dateTime,
    DateTimeString = dateTime.ToString("F"),
    DateTimeOffset = dateTimeOffset,
    DateTimeOffsetNullable = dateTimeOffset,
    DateTimeOffsetString = dateTimeOffset.ToString("F"),
};

ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L528-L544' title='File snippet `date` was extracted from'>snippet source</a> | <a href='#snippet-date' title='Navigate to start of snippet `date`'>anchor</a></sup>
<!-- endsnippet -->

Results in the following:

<!-- snippet: ObjectApproverTests.ShouldReUseDatetime.approved.txt -->
<a id='snippet-ObjectApproverTests.ShouldReUseDatetime.approved.txt'/></a>
```txt
{
  DateTime: DateTime_1,
  DateTimeNullable: DateTime_1,
  DateTimeOffset: DateTimeOffset_1,
  DateTimeOffsetNullable: DateTimeOffset_1,
  DateTimeString: DateTimeOffset_2,
  DateTimeOffsetString: DateTimeOffset_2
}
```
<sup><a href='/src/Tests/ObjectApproverTests.ShouldReUseDatetime.approved.txt#L1-L8' title='File snippet `ObjectApproverTests.ShouldReUseDatetime.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.ShouldReUseDatetime.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.ShouldReUseDatetime.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->

To disable this behavior use:

```cs
SerializerBuilder.ScrubDateTimes = false;
```


### Default Booleans are ignored

By default values of `bool` and `bool?` are ignored during verification. So properties that equate to 'false' will not be written,

To disable this behavior use:

```cs
SerializerBuilder.IgnoreFalse = false;
```


### Change defaults at the verification level

`DateTime`, `DateTimeOffset`, `Guid`, `bool`, and empty collection behavior can also be controlled at the verification level: 

<!-- snippet: ChangeDefaultsPerVerification -->
<a id='snippet-changedefaultsperverification'/></a>
```cs
ObjectApprover.Verify(target,
    ignoreEmptyCollections: false,
    scrubGuids: false,
    scrubDateTimes: false,
    ignoreFalse: false);
```
<sup><a href='/src/Tests/Samples.cs#L31-L39' title='File snippet `changedefaultsperverification` was extracted from'>snippet source</a> | <a href='#snippet-changedefaultsperverification' title='Navigate to start of snippet `changedefaultsperverification`'>anchor</a></sup>
<!-- endsnippet -->


### Changing settings globally

To change the serialization settings for all verifications use `SerializerBuilder.ExtraSettings`:

<!-- snippet: ExtraSettings -->
<a id='snippet-extrasettings'/></a>
```cs
SerializerBuilder.ExtraSettings =
    jsonSerializerSettings =>
    {
        jsonSerializerSettings.DateFormatHandling = DateFormatHandling.MicrosoftDateFormat;
        jsonSerializerSettings.TypeNameHandling = TypeNameHandling.All;
    };
```
<sup><a href='/src/Tests/Samples.cs#L114-L123' title='File snippet `extrasettings` was extracted from'>snippet source</a> | <a href='#snippet-extrasettings' title='Navigate to start of snippet `extrasettings`'>anchor</a></sup>
<!-- endsnippet -->


### Scoped settings

<!-- snippet: ScopedSerializer -->
<a id='snippet-scopedserializer'/></a>
```cs
var person = new Person
{
    GivenNames = "John",
    FamilyName = "Smith",
    Dob = new DateTime(2000, 10, 1),
};
var serializerSettings = SerializerBuilder.BuildSettings(scrubDateTimes: false);
serializerSettings.DateFormatHandling = DateFormatHandling.MicrosoftDateFormat;
ObjectApprover.Verify(person, jsonSerializerSettings: serializerSettings);
```
<sup><a href='/src/Tests/Samples.cs#L50-L62' title='File snippet `scopedserializer` was extracted from'>snippet source</a> | <a href='#snippet-scopedserializer' title='Navigate to start of snippet `scopedserializer`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: Samples.ScopedSerializer.approved.txt -->
<a id='snippet-Samples.ScopedSerializer.approved.txt'/></a>
```txt
{
  GivenNames: 'John',
  FamilyName: 'Smith',
  Dob: '\/Date(970322400000+1000)\/'
}
```
<sup><a href='/src/Tests/Samples.ScopedSerializer.approved.txt#L1-L5' title='File snippet `Samples.ScopedSerializer.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-Samples.ScopedSerializer.approved.txt' title='Navigate to start of snippet `Samples.ScopedSerializer.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


### Ignoring a type

To ignore all members that match a certain type:

<!-- snippet: AddIgnoreType -->
<a id='snippet-addignoretype'/></a>
```cs
// Done on static startup
SerializerBuilder.IgnoreMembersWithType<ToIgnore>();

// Done as part of test
var target = new IgnoreTypeTarget
{
    ToIgnore = new ToIgnore
    {
        Property = "Value"
    },
    ToInclude = new ToInclude
    {
        Property = "Value"
    }
};
ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L153-L172' title='File snippet `addignoretype` was extracted from'>snippet source</a> | <a href='#snippet-addignoretype' title='Navigate to start of snippet `addignoretype`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: ObjectApproverTests.IgnoreType.approved.txt -->
<a id='snippet-ObjectApproverTests.IgnoreType.approved.txt'/></a>
```txt
{
  ToInclude: {
    Property: 'Value'
  }
}
```
<sup><a href='/src/Tests/ObjectApproverTests.IgnoreType.approved.txt#L1-L5' title='File snippet `ObjectApproverTests.IgnoreType.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.IgnoreType.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.IgnoreType.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


### Ignoring a instance

To ignore instances of a type based on delegate:

<!-- snippet: AddIgnoreInstance -->
<a id='snippet-addignoreinstance'/></a>
```cs
// Done on static startup
SerializerBuilder.IgnoreInstance<Instance>(x => x.Property == "Ignore");

// Done as part of test
var target = new IgnoreInstanceTarget
{
    ToIgnore = new Instance
    {
        Property = "Ignore"
    },
    ToInclude = new Instance
    {
        Property = "Include"
    },
};
ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L95-L114' title='File snippet `addignoreinstance` was extracted from'>snippet source</a> | <a href='#snippet-addignoreinstance' title='Navigate to start of snippet `addignoreinstance`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: ObjectApproverTests.IgnoreInstance.approved.txt -->
<a id='snippet-ObjectApproverTests.IgnoreInstance.approved.txt'/></a>
```txt
{
  ToInclude: {
    Property: 'Include'
  }
}
```
<sup><a href='/src/Tests/ObjectApproverTests.IgnoreInstance.approved.txt#L1-L5' title='File snippet `ObjectApproverTests.IgnoreInstance.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.IgnoreInstance.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.IgnoreInstance.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


### Ignore member by expressions

To ignore members of a certain type using an expression:

<!-- snippet: IgnoreMemberByExpression -->
<a id='snippet-ignorememberbyexpression'/></a>
```cs
// Done on static startup
SerializerBuilder.IgnoreMember<IgnoreExplicitTarget>(x => x.Property);
SerializerBuilder.IgnoreMember<IgnoreExplicitTarget>(x => x.Field);
SerializerBuilder.IgnoreMember<IgnoreExplicitTarget>(x => x.GetOnlyProperty);
SerializerBuilder.IgnoreMember<IgnoreExplicitTarget>(x => x.PropertyThatThrows);

// Done as part of test
var target = new IgnoreExplicitTarget
{
    Include = "Value",
    Field = "Value",
    Property = "Value"
};
ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L212-L229' title='File snippet `ignorememberbyexpression` was extracted from'>snippet source</a> | <a href='#snippet-ignorememberbyexpression' title='Navigate to start of snippet `ignorememberbyexpression`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: ObjectApproverTests.IgnoreMemberByExpression.approved.txt -->
<a id='snippet-ObjectApproverTests.IgnoreMemberByExpression.approved.txt'/></a>
```txt
{
  Include: 'Value'
}
```
<sup><a href='/src/Tests/ObjectApproverTests.IgnoreMemberByExpression.approved.txt#L1-L3' title='File snippet `ObjectApproverTests.IgnoreMemberByExpression.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.IgnoreMemberByExpression.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.IgnoreMemberByExpression.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


### Ignore member by name

To ignore members of a certain type using type and name:

<!-- snippet: IgnoreMemberByName -->
<a id='snippet-ignorememberbyname'/></a>
```cs
// Done on static startup
var type = typeof(IgnoreExplicitTarget);
SerializerBuilder.IgnoreMember(type, "Property");
SerializerBuilder.IgnoreMember(type, "Field");
SerializerBuilder.IgnoreMember(type, "GetOnlyProperty");
SerializerBuilder.IgnoreMember(type, "PropertyThatThrows");

// Done as part of test
var target = new IgnoreExplicitTarget
{
    Include = "Value",
    Field = "Value",
    Property = "Value"
};
ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L235-L253' title='File snippet `ignorememberbyname` was extracted from'>snippet source</a> | <a href='#snippet-ignorememberbyname' title='Navigate to start of snippet `ignorememberbyname`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: ObjectApproverTests.IgnoreMemberByName.approved.txt -->
<a id='snippet-ObjectApproverTests.IgnoreMemberByName.approved.txt'/></a>
```txt
{
  Include: 'Value'
}
```
<sup><a href='/src/Tests/ObjectApproverTests.IgnoreMemberByName.approved.txt#L1-L3' title='File snippet `ObjectApproverTests.IgnoreMemberByName.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.IgnoreMemberByName.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.IgnoreMemberByName.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


### Members that throw

Members that throw exceptions can be excluded from serialization based on the exception type or properties.

By default members that throw `NotImplementedException` or `NotSupportedException` are ignored.

Note that this is global for all members on all types.

Ignore by exception type:

<!-- snippet: IgnoreMembersThatThrow -->
<a id='snippet-ignoremembersthatthrow'/></a>
```cs
// Done on static startup
SerializerBuilder.IgnoreMembersThatThrow<CustomException>();

// Done as part of test
var target = new WithCustomException();
ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L298-L307' title='File snippet `ignoremembersthatthrow` was extracted from'>snippet source</a> | <a href='#snippet-ignoremembersthatthrow' title='Navigate to start of snippet `ignoremembersthatthrow`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: ObjectApproverTests.CustomExceptionProp.approved.txt -->
<a id='snippet-ObjectApproverTests.CustomExceptionProp.approved.txt'/></a>
```txt
{}
```
<sup><a href='/src/Tests/ObjectApproverTests.CustomExceptionProp.approved.txt#L1-L1' title='File snippet `ObjectApproverTests.CustomExceptionProp.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.CustomExceptionProp.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.CustomExceptionProp.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->

Ignore by exception type and expression:

<!-- snippet: IgnoreMembersThatThrowExpression -->
<a id='snippet-ignoremembersthatthrowexpression'/></a>
```cs
// Done on static startup
SerializerBuilder.IgnoreMembersThatThrow<Exception>(
    x => x.Message == "Ignore");

// Done as part of test
var target = new WithExceptionIgnoreMessage();
ObjectApprover.Verify(target);
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L362-L372' title='File snippet `ignoremembersthatthrowexpression` was extracted from'>snippet source</a> | <a href='#snippet-ignoremembersthatthrowexpression' title='Navigate to start of snippet `ignoremembersthatthrowexpression`'>anchor</a></sup>
<!-- endsnippet -->

Result:

<!-- snippet: ObjectApproverTests.ExceptionMessageProp.approved.txt -->
<a id='snippet-ObjectApproverTests.ExceptionMessageProp.approved.txt'/></a>
```txt
{}
```
<sup><a href='/src/Tests/ObjectApproverTests.ExceptionMessageProp.approved.txt#L1-L1' title='File snippet `ObjectApproverTests.ExceptionMessageProp.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.ExceptionMessageProp.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.ExceptionMessageProp.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


### Scrubber

A scrubber can be used to cleanup or sanitize the resultant serialized string prior to verification.

<!-- snippet: Scrubber -->
<a id='snippet-scrubber'/></a>
```cs
var target = new ToBeScrubbed
{
    RowVersion = "0x00000000000007D3"
};

ObjectApprover.Verify(target,
    scrubber: s => s.Replace("0x00000000000007D3", "TheRowVersion"));
```
<sup><a href='/src/Tests/Samples.cs#L16-L26' title='File snippet `scrubber` was extracted from'>snippet source</a> | <a href='#snippet-scrubber' title='Navigate to start of snippet `scrubber`'>anchor</a></sup>
<!-- endsnippet -->

Results in the following:

```graphql
{
  RowVersion: 'ThRowVersion'
}
```

## Named Tuples

Instances of [named tuples](https://docs.microsoft.com/en-us/dotnet/csharp/tuples#named-and-unnamed-tuples) can be verified using `ObjectApprover.VerifyTuple`.

Due to the use of [ITuple](https://docs.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.ituple), this approach is only available an net472+ and netcoreapp2.2+.

Given a method that returns a named tuple:

<!-- snippet: MethodWithNamedTuple -->
<a id='snippet-methodwithnamedtuple'/></a>
```cs
static (bool Member1, string Member2, string Member3) MethodWithNamedTuple()
{
    return (true, "A", "B");
}
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L67-L72' title='File snippet `methodwithnamedtuple` was extracted from'>snippet source</a> | <a href='#snippet-methodwithnamedtuple' title='Navigate to start of snippet `methodwithnamedtuple`'>anchor</a></sup>
<!-- endsnippet -->

Can be verified:

<!-- snippet: VerifyTuple -->
<a id='snippet-verifytuple'/></a>
```cs
ObjectApprover.VerifyTuple(() => MethodWithNamedTuple());
```
<sup><a href='/src/Tests/ObjectApproverTests.cs#L60-L64' title='File snippet `verifytuple` was extracted from'>snippet source</a> | <a href='#snippet-verifytuple' title='Navigate to start of snippet `verifytuple`'>anchor</a></sup>
<!-- endsnippet -->

Resulting in:

<!-- snippet: ObjectApproverTests.NamedTuple.approved.txt -->
<a id='snippet-ObjectApproverTests.NamedTuple.approved.txt'/></a>
```txt
{
  Member1: true,
  Member2: 'A',
  Member3: 'B'
}
```
<sup><a href='/src/Tests/ObjectApproverTests.NamedTuple.approved.txt#L1-L5' title='File snippet `ObjectApproverTests.NamedTuple.approved.txt` was extracted from'>snippet source</a> | <a href='#snippet-ObjectApproverTests.NamedTuple.approved.txt' title='Navigate to start of snippet `ObjectApproverTests.NamedTuple.approved.txt`'>anchor</a></sup>
<!-- endsnippet -->


## Release Notes

See [closed milestones](../../milestones?state=closed).


## Icon

[Helmet](https://thenounproject.com/term/helmet/9554/) designed by [Leonidas Ikonomou](https://thenounproject.com/alterego) from [The Noun Project](https://thenounproject.com).
